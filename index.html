<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ›ä¸šè¥¿å®‰ 2026æ¼è›‹åˆ†ç»„å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: "å¾®è½¯é›…é»‘", "é»‘ä½“", Arial, sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            padding: 20px 0;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
            background: url("https://img.icons8.com/color/1600/playing-cards.png") no-repeat center 20px;
            background-size: 100px;
            background-color: #fff;
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 10px 30px rgba(255, 105, 0, 0.3);
            border: 5px solid #d4af37;
        }
        h1 {
            color: #c8102e;
            font-size: 32px;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        /* æ¼è›‹æ¡Œå¸ƒå±€ï¼šä¸ŠåŒ—ä¸‹å—å·¦è¥¿å³ä¸œ */
        .seats-wrapper {
            position: relative;
            width: 600px;
            height: 600px;
            margin: 20px auto;
            background: radial-gradient(circle, #f9f2e8 0%, #e8d4b8 100%);
            border-radius: 50%;
            border: 8px solid #8b4513;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.2), 0 0 20px rgba(139, 69, 19, 0.4);
        }
        .seat {
            position: absolute;
            width: 140px;
            height: 180px;
            background: linear-gradient(180deg, #ffffff 0%, #f8f0e3 100%);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 3px solid #c8102e;
            padding: 10px;
        }
        /* æ–¹ä½å®šä½ */
        .seat.north { top: 20px; left: 50%; transform: translateX(-50%); }
        .seat.south { bottom: 20px; left: 50%; transform: translateX(-50%); }
        .seat.west { left: 20px; top: 50%; transform: translateY(-50%); }
        .seat.east { right: 20px; top: 50%; transform: translateY(-50%); }
        
        .seat .direction {
            color: #c8102e;
            font-size: 20px;
            margin-bottom: 8px;
            font-weight: bold;
        }
        .seat .avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 8px;
            border: 4px solid #ffd700;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
        }
        .seat .person {
            font-size: 18px;
            color: #333;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        /* ä¸­é—´æ–‡å­— */
        .center-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 38px;
            font-weight: bold;
            color: #c8102e;
            letter-spacing: 6px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
            background: linear-gradient(90deg, #ffd700 0%, #ff8c00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            line-height: 1.4;
        }
        /* ç”Ÿæˆæ—¶é—´ */
        .generate-time {
            margin: 20px 0;
            font-size: 18px;
            color: #8b4513;
            font-weight: bold;
        }
        /* é˜Ÿä¼ä¿¡æ¯ */
        .team-info {
            margin: 15px 0;
            font-size: 20px;
            color: #c8102e;
            line-height: 1.8;
        }
        /* æŒ‰é’®æ ·å¼ - ä¸¤ä¸ªæŒ‰é’®å¹¶æ’ */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
        }
        button {
            padding: 15px 40px;
            font-size: 18px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .btn-random {
            background: linear-gradient(90deg, #28a745 0%, #20c997 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }
        .btn-prob {
            background: linear-gradient(90deg, #c8102e 0%, #ff4500 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(200, 16, 46, 0.4);
        }
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        /* è§„åˆ™è¯´æ˜ */
        .rule-note {
            margin-top: 30px;
            color: #5a3e2b;
            font-size: 16px;
            line-height: 1.8;
            text-align: left;
            padding: 15px;
            background-color: rgba(255, 248, 230, 0.8);
            border-radius: 10px;
            border-left: 5px solid #c8102e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŠ åˆ›ä¸šè¥¿å®‰ 2026æ¼è›‹åˆ†ç»„å™¨ ğŸŠ</h1>
        
        <!-- æ¼è›‹æ¡Œå¸ƒå±€ -->
        <div class="seats-wrapper">
            <div class="seat north">
                <div class="direction">åŒ—</div>
                <img class="avatar" id="north-avatar" src="" alt="å¤´åƒ">
                <div class="person" id="north-person">-</div>
            </div>
            <div class="seat south">
                <div class="direction">å—</div>
                <img class="avatar" id="south-avatar" src="" alt="å¤´åƒ">
                <div class="person" id="south-person">-</div>
            </div>
            <div class="seat west">
                <div class="direction">è¥¿</div>
                <img class="avatar" id="west-avatar" src="" alt="å¤´åƒ">
                <div class="person" id="west-person">-</div>
            </div>
            <div class="seat east">
                <div class="direction">ä¸œ</div>
                <img class="avatar" id="east-avatar" src="" alt="å¤´åƒ">
                <div class="person" id="east-person">-</div>
            </div>
            <div class="center-text">åˆ›ä¸šè¥¿å®‰<br>åŠ æ²¹2026</div>
        </div>

        <!-- ç”Ÿæˆæ—¶é—´ -->
        <div class="generate-time">ğŸ“… æœ¬æ¬¡åˆ†ç»„ç”Ÿæˆæ—¶é—´ï¼š<span id="generate-time">-</span></div>
        
        <!-- é˜Ÿä¼ä¿¡æ¯ -->
        <div class="team-info">
            <div>ğŸ€œ ä¸œ+è¥¿ é˜Ÿï¼š<span id="team1">-</span></div>
            <div>ğŸ€ å—+åŒ— é˜Ÿï¼š<span id="team2">-</span></div>
        </div>

        <!-- ä¸¤ä¸ªæŒ‰é’®ï¼šéšæœºåˆ†ç»„ + æ¦‚ç‡åˆ†ç»„ -->
        <div class="btn-group">
            <button class="btn-random" onclick="generateRandomGroup()">ğŸ² éšæœºåˆ†ç»„</button>
            <button class="btn-prob" onclick="generateProbGroup()">ğŸ¯ æ¦‚ç‡åˆ†ç»„</button>
        </div>

        <!-- è§„åˆ™è¯´æ˜ -->
        <div class="rule-note">
            <strong>ğŸ¯ åˆ†ç»„è§„åˆ™ï¼š</strong><br>
            1. å°é­å’Œé©¬è€æ¿åŒé˜Ÿæ¦‚ç‡ xx%ï¼›<br>
            2. å°é­å’ŒDavidåŒé˜Ÿæ¦‚ç‡ xx%ï¼›<br>
            3. è‹¥å°é­ä¸å’Œé‚¹æ ¡åŒé˜Ÿï¼Œå°é­åœ¨é‚¹æ ¡ä¸‹å®¶çš„æ¦‚ç‡ xx%ï¼ˆä¸‹å®¶é¡ºåºï¼šä¸œâ†’å—â†’è¥¿â†’åŒ—â†’ä¸œï¼‰ã€‚
        </div>
    </div>

    <script>
        // å¤´åƒæ˜ å°„
        const avatarMap = {
            "é‚¹æ ¡": "https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/3d754fe9f47b4ca896aba91ea6fe0b36.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260121134801AD78531F66BD8D368B73&rrcfp=dafada99&x-expires=2085198481&x-signature=Gd6lSOJOtC4vyRW73cQEMWWD08E%3D",
            "David": "https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/9a1a60ff466845578d6aca3912d50a61.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260121134801AD78531F66BD8D368B73&rrcfp=dafada99&x-expires=2085198481&x-signature=XmftXWeIhMU1eTz%2BUw0YnwXRtDw%3D",
            "é©¬è€æ¿": "https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/93eda5e7c1014066991f9a7b4229fe0a.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260121134801AD78531F66BD8D368B73&rrcfp=dafada99&x-expires=2085198481&x-signature=bVV60%2FhVqQ4p4aDAo31AJKlyI9s%3D",
            "å°é­": "https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/667973a943ee4d508cf167d5de7bbbe0.jpg~tplv-a9rns2rl98-image.png?lk3s=8e244e95&rcl=20260121134801AD78531F66BD8D368B73&rrcfp=dafada99&x-expires=2085198481&x-signature=L2kCmu0%2Fmk06KAU1Ch5osfIGaYo%3D"
        };

        // åŸºç¡€æ•°æ®
        const people = ["David", "é‚¹æ ¡", "é©¬è€æ¿", "å°é­"];
        const directions = ["east", "south", "west", "north"];
        const directionOrder = ["east", "south", "west", "north"];

        // åˆå§‹åŒ–ï¼šé»˜è®¤æ‰§è¡Œæ¦‚ç‡åˆ†ç»„
        generateProbGroup();

        /**
         * æ ¼å¼åŒ–æ—¶é—´
         */
        function formatTime(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hour = String(date.getHours()).padStart(2, '0');
            const minute = String(date.getMinutes()).padStart(2, '0');
            const second = String(date.getSeconds()).padStart(2, '0');
            return `${year}-${month}-${day} ${hour}:${minute}:${second}`;
        }

        /**
         * æ–¹æ³•1ï¼šéšæœºåˆ†ç»„ï¼ˆå®Œå…¨éšæœºï¼Œæ— æ¦‚ç‡é™åˆ¶ï¼‰
         */
        function generateRandomGroup() {
            const now = new Date();
            document.getElementById("generate-time").textContent = formatTime(now);

            // æ·±æ‹·è´äººå‘˜åˆ—è¡¨ï¼Œé¿å…ä¿®æ”¹åŸæ•°ç»„
            let randomPeople = [...people];
            // æ‰“ä¹±æ•°ç»„é¡ºåºï¼ˆå®Œå…¨éšæœºï¼‰
            randomPeople = randomPeople.sort(() => Math.random() - 0.5);

            // åˆ†é…åˆ°å››ä¸ªæ–¹ä½
            const seatMap = {};
            directions.forEach((dir, index) => {
                seatMap[dir] = randomPeople[index];
            });

            // æ›´æ–°é¡µé¢
            updatePage(seatMap);
        }

        /**
         * æ–¹æ³•2ï¼šæ¦‚ç‡åˆ†ç»„ï¼ˆæŒ‰40%/40%/80%è§„åˆ™ï¼‰
         */
        function generateProbGroup() {
            const now = new Date();
            document.getElementById("generate-time").textContent = formatTime(now);

            const seatMap = { east: "", south: "", west: "", north: "" };
            let xiaoWeiTeammate = "";
            const random = Math.random();

            // 40%é©¬è€æ¿ / 40%David / 20%é‚¹æ ¡
            if (random < 0.4) {
                xiaoWeiTeammate = "é©¬è€æ¿";
            } else if (random < 0.8) {
                xiaoWeiTeammate = "David";
            } else {
                xiaoWeiTeammate = "é‚¹æ ¡";
            }

            // åˆ†é…é˜Ÿä¼å’Œæ–¹ä½
            const team1 = ["east", "west"];
            const team2 = ["south", "north"];
            const xiaoWeiTeam = Math.random() > 0.5 ? team1 : team2;
            const otherTeam = xiaoWeiTeam === team1 ? team2 : team1;

            const [xiaoWeiDir, teammateDir] = Math.random() > 0.5 ? [xiaoWeiTeam[0], xiaoWeiTeam[1]] : [xiaoWeiTeam[1], xiaoWeiTeam[0]];
            seatMap[xiaoWeiDir] = "å°é­";
            seatMap[teammateDir] = xiaoWeiTeammate;

            // å¤„ç†å‰©ä½™ä¸¤äºº
            const remainingPeople = people.filter(p => p !== "å°é­" && p !== xiaoWeiTeammate);
            let zouXiao = remainingPeople.find(p => p === "é‚¹æ ¡") || "";
            let lastPerson = remainingPeople.find(p => p !== zouXiao) || "";

            // 80%æ¦‚ç‡å°é­åœ¨é‚¹æ ¡ä¸‹å®¶ï¼ˆä¸åŒé˜Ÿæ—¶ï¼‰
            if (xiaoWeiTeammate !== "é‚¹æ ¡" && zouXiao) {
                if (Math.random() < 0.8) {
                    const xiaoWeiIndex = directionOrder.indexOf(xiaoWeiDir);
                    const zouXiaoIndex = (xiaoWeiIndex - 1 + 4) % 4;
                    const zouXiaoTargetDir = directionOrder[zouXiaoIndex];
                    
                    if (otherTeam.includes(zouXiaoTargetDir)) {
                        seatMap[zouXiaoTargetDir] = zouXiao;
                        const lastDir = otherTeam.find(dir => dir !== zouXiaoTargetDir);
                        seatMap[lastDir] = lastPerson;
                    } else {
                        const [zouXiaoDir, lastDir] = Math.random() > 0.5 ? [otherTeam[0], otherTeam[1]] : [otherTeam[1], otherTeam[0]];
                        seatMap[zouXiaoDir] = zouXiao;
                        seatMap[lastDir] = lastPerson;
                    }
                } else {
                    const xiaoWeiIndex = directionOrder.indexOf(xiaoWeiDir);
                    const zouXiaoUpperIndex = (xiaoWeiIndex - 1 + 4) % 4;
                    const zouXiaoUpperDir = directionOrder[zouXiaoUpperIndex];
                    const availableDirs = otherTeam.filter(dir => dir !== zouXiaoUpperDir);
                    const [zouXiaoDir, lastDir] = availableDirs.length === 2 
                        ? (Math.random() > 0.5 ? [availableDirs[0], availableDirs[1]] : [availableDirs[1], availableDirs[0]])
                        : [otherTeam[0], otherTeam[1]];
                    
                    seatMap[zouXiaoDir] = zouXiao;
                    seatMap[lastDir] = lastPerson;
                }
            } else {
                const lastDir = otherTeam[Math.random() > 0.5 ? 0 : 1];
                seatMap[lastDir] = lastPerson;
                const otherDir = otherTeam.find(dir => dir !== lastDir);
                seatMap[otherDir] = zouXiao;
            }

            // å…œåº•æ£€æŸ¥ï¼šç¡®ä¿æ¯ä¸ªæ–¹ä½éƒ½æœ‰äºº
            directions.forEach(dir => {
                if (!seatMap[dir] || seatMap[dir] === "") {
                    const unassigned = people.find(p => !Object.values(seatMap).includes(p));
                    if (unassigned) seatMap[dir] = unassigned;
                }
            });

            updatePage(seatMap);
        }

        /**
         * æ›´æ–°é¡µé¢æ˜¾ç¤º
         */
        function updatePage(seatMap) {
            directions.forEach(dir => {
                const person = seatMap[dir] || "-";
                document.getElementById(`${dir}-person`).textContent = person;
                const avatarEl = document.getElementById(`${dir}-avatar`);
                avatarEl.src = avatarMap[person] || "";
                avatarEl.alt = person;
            });

            const team1Text = `${seatMap.east || "-"} + ${seatMap.west || "-"}`;
            const team2Text = `${seatMap.south || "-"} + ${seatMap.north || "-"}`;
            document.getElementById("team1").textContent = team1Text;
            document.getElementById("team2").textContent = team2Text;
        }
    </script>
</body>
</html>